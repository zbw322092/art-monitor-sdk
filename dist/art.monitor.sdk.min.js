!function(){"use strict";const e=Math.random().toString(36).substr(2,9)+"_"+Date.now();window.TRACKID=e;const t=XMLHttpRequest.prototype.send,s=[],n=[];let o=!1;const r=(e,t)=>{for(let s=0,n=e.length;s<n;s++)e[s](t)},i=e=>{4===e.readyState&&r(n,e)},a=e=>{n.push(e)},c=()=>{o||(XMLHttpRequest.prototype.send=function(){if(r(s,this),this.addEventListener){const e=this;this.addEventListener("readystatechange",function(){i(e)},!1)}else(e=>{const t=e.onreadystatechange;t&&(e.onreadystatechange=function(){i(e),t()})})(this);t.apply(this,arguments)},o=!0)};class l{constructor(e){this.timestamp=performance.now(),this.trackId=window.TRACKID,this.trackType=e}}const h=e=>{let t;switch(e.responseType){case"":case"text":t=e.response;break;case"json":t=JSON.stringify(e.response);break;default:t=Object.prototype.toString.call(e.response)}return t};class u extends l{constructor(e,t){super(e),this.responseURL=t.responseURL,this.status=t.status,this.statusText=t.statusText,this.responseType=t.responseType,this.response=h(t),this.readyState=t.readyState,this.timeout=t.timeout}}var d;!function(e){e.EVENT="event",e.KEYBOARDEVENT="keyboardEvent",e.MOUSEEVENT="mouseEvent",e.TOUCHEVENT="touchEvent",e.STATECHANGE="statechange",e.MUTATION="mutation",e.XHRINTERCEPT="XHRIntercept"}(d||(d={}));const p=e=>new Promise((t,s)=>{e.onsuccess=(()=>{t(e.result)}),e.onerror=(()=>{s(e.error)})}),g=(e,t,s)=>{let n;const o=new Promise((o,r)=>{(n=e[t].apply(e,s))&&p(n).then(o,r)});return o.request=n,o},y=(e,t,s)=>{s.forEach(s=>{Object.defineProperty(e.prototype,s,{get(){return this[t][s]},set(e){return this[t][s]=e}})})},f=(e,t,s,n)=>{n.forEach(n=>{n in s.prototype&&(e.prototype[n]=function(){return g(this[t],n,arguments)})})};function m(e,t,s,n){n.forEach(n=>{n in s.prototype&&(e.prototype[n]=function(){return this[t][n].apply(this[t],arguments)})})}function b(e,t){this._cursor=e,this._request=t}function E(e){this._index=e}function w(e){this._store=e}function v(e){this._tx=e,this.complete=new Promise((t,s)=>{e.oncomplete=(()=>{t()}),e.onerror=(()=>{s(e.error)}),e.onabort=(()=>{s(e.error)})})}function S(e,t,s){this._db=e,this.oldVersion=t,this.transaction=s?new v(s):null}function T(e){this._db=e}y(b,"_cursor",["direction","key","primaryKey","value"]),f(b,"_cursor",IDBCursor,["update","delete"]),y(E,"_index",["name","keyPath","multiEntry","unique"]),f(E,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),((e,t,s,n,o)=>{n.forEach(n=>{n in s.prototype&&(e.prototype[n]=function(){return((e,t,s,n)=>{const o=g(e,t,s);return o.then(e=>{if(e)return new n(e,o.request)})})(this[t],n,arguments,o)})})})(E,"_index",IDBIndex,["openCursor","openKeyCursor"],b),w.prototype.createIndex=function(){return new E(this._store.createIndex.apply(this._store,arguments))},w.prototype.index=function(){return new E(this._store.index.apply(this._store,arguments))},y(w,"_store",["name","keyPath","indexNames","autoIncrement"]),f(w,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),v.prototype.objectStore=function(){return new w(this._tx.objectStore.apply(this._tx,arguments))},y(v,"_tx",["objectStoreNames","mode"]),m(v,"_tx",IDBTransaction,["abort"]),S.prototype.createObjectStore=function(){return new w(this._db.createObjectStore.apply(this._db,arguments))},y(S,"_db",["name","version","objectStoreNames"]),m(S,"_db",IDBDatabase,["deleteObjectStore","close"]),y(T,"_db",["name","version","objectStoreNames"]),m(T,"_db",IDBDatabase,["close"]),T.prototype.transaction=function(){return new v(this._db.transaction.apply(this._db,arguments))},["advance","continue","continuePrimaryKey"].forEach(e=>{e in IDBCursor.prototype&&(b.prototype[e]=function(){const t=this,s=arguments;return Promise.resolve().then(()=>(t._cursor[e].apply(t._cursor,s),p(t._request).then(e=>{if(e)return new b(e,t._request)})))})}),["openCursor","openKeyCursor"].forEach(e=>{[w,E].forEach(t=>{e in t.prototype&&(t.prototype[e.replace("open","iterate")]=function(){const t=(s=arguments,Array.prototype.slice.call(s));var s;const n=t[t.length-1],o=this._store||this._index,r=o[e].apply(o,t.slice(0,-1));r.onsuccess=(()=>{n(r.result)})})})}),[E,w].forEach(e=>{e.prototype.getAll||(e.prototype.getAll=function(e,t){const s=this,n=[];return new Promise(o=>{s.iterateCursor(e,e=>{e?(n.push(e.value),void 0===t||n.length!==t?e.continue():o(n)):o(n)})})})});const N={open:(e,t,s)=>{const n=g(indexedDB,"open",[e,t]),o=n.request;return o&&(o.onupgradeneeded=(e=>{s&&s(new S(o.result,e.oldVersion,o.transaction))})),n.then(e=>new T(e))},delete:e=>g(indexedDB,"deleteDatabase",[e])},x=1,_="ERROR-REPORTING";const K=new class{constructor(e,t){this.get=((e,t)=>this.dbPromise.then(s=>s.transaction(e).objectStore(e).get(t))),this.set=((e,t)=>this.dbPromise.then(s=>{const n=s.transaction(e,"readwrite");return n.objectStore(e).put(t),n.complete})),this.delete=((e,t)=>this.dbPromise.then(s=>{const n=s.transaction(e,"readwrite");return n.objectStore(e).delete(t),n.complete})),this.clear=(e=>this.dbPromise.then(t=>{const s=t.transaction(e,"readwrite");return s.objectStore(e).clear(),s.complete})),this.keys=(e=>this.dbPromise.then(t=>{const s=t.transaction(e),n=[],o=s.objectStore(e);return(o.iterateKeyCursor||o.iterateCursor).call(o,e=>{e&&(n.push(e.key),e.continue())}),s.complete.then(()=>n)})),this.dbPromise=N.open(e,x,t)}}("QNN-MKT",e=>{console.log(111222),e.objectStoreNames.contains(_)||e.createObjectStore(_,{keyPath:"id",autoIncrement:!0})});a(e=>{const t=new u(d.XHRINTERCEPT,e);console.log("xhr log: ",t),K.set(_,t).then(()=>{console.log("xhr log added")}).catch(e=>{console.log("xhr log err: ",e)})}),c();const C=e=>{let t;return t="function"==typeof Element?e instanceof Element:!!e&&"object"==typeof e&&1===e.nodeType&&"string"==typeof e.nodeName},O=e=>e.tagName.toLowerCase().replace(/:/g,"\\:"),I=(e,t)=>{if(!t)return!1;const s=e.ownerDocument;if(null===s)return!1;const n=s.querySelectorAll(t);return 1===n.length&&n[0]===e},k=(e,t)=>{const s=(e=>{const t=e.getAttribute("id");return null!==t&&""!==t?t.match(/^\d/)?`[id="${t}"]`:"#"+t:null})(e);if(s)return s;const n=(e=>{if(!e.hasAttribute("class"))return null;try{return Array.prototype.slice.call(e.classList).filter(e=>/^[a-z_-][a-z\d_-]*$/i.test(e)).map(e=>`.${e}`).join("")}catch(t){let s=e.getAttribute("class");return(s=s.trim().replace(/\s+/g," ")).split(" ").map(e=>`.${e}`).join("")}})(e);if(n&&I(e,n))return n;const o=((e,t=["id","class","length"])=>{const{attributes:s}=e;if(null===s)return null;const n=[];return Array.prototype.forEach.call(s,e=>{t.indexOf(e.nodeName)>-1||n.push(`[${e.nodeName}="${e.nodeValue}"]`)}),n.join("")})(e,t);if(o&&I(e,o))return o;if(n&&o&&I(e,n+o))return n+o;const r=O(e);return I(e,r)?r:n&&o&&I(e,n+o+" "+r)?n+o+" "+r:null},A=(e,t={})=>{const{attributesToIgnore:s=["id","class","length"]}=t,n=(e=>{const t=[];let s=e;for(;C(s);)t.push(s),s=s.parentElement;return t})(e);let o,r="",i=-1;for(const e of n){const t=k(e,s);if(i++,t){o=e,r=t;break}}if(o===e)return r;return n.slice(0,i).forEach(e=>{r=r+" "+O(e)+(e=>{let t=0;const{parentElement:s}=e;if(s){const{children:n}=s,o=n.length;for(let s=0;s<o;s++)if(t++,n[s]===e)return`:nth-child(${t})`}return null})(e)}),r},j=e=>(e=>e instanceof Node&&!(e instanceof Element))(e)?e.parentElement?A(e.parentElement)+", nodeValue: "+e.nodeValue:"":A(e),D=e=>e instanceof Node?j(e):JSON.stringify(Array.prototype.map.call(e,e=>j(e)));class L extends l{constructor(e,t){super(e),this.type=t.type,this.target=D(t.target),this.addedNode=D(t.addedNodes),this.removedNodes=D(t.removedNodes),this.attributeName=t.attributeName,this.attributeNamespace=t.attributeNamespace,this.previousSibling=t.previousSibling?D(t.previousSibling):null,this.nextSibling=t.nextSibling?D(t.nextSibling):null,this.oldValue=t.oldValue}}const P=document.querySelector("body");let R;const V={attributes:!0,attributeOldValue:!0,childList:!0,characterData:!0,characterDataOldValue:!0,subtree:!0},X=new MutationObserver(e=>{e.forEach(e=>{"attributes"===e.type&&"style"===e.attributeName&&R||(e=>{const t=new L(d.MUTATION,e);console.log("mutaion log",t),K.set(_,t).then(()=>{console.log("mutaion log added")}).catch(e=>{console.log("mutaion log err: ",e)}),"attributes"===e.type&&"style"===e.attributeName&&(R=window.setTimeout(()=>{window.clearTimeout(R),R=null},1e3))})(e)})});P&&X.observe(P,V);const Y=e=>null===e?null:e instanceof Element?A(e):Object.prototype.toString.call(e);class B extends l{constructor(e,t){super(e),this.type=t.type,this.eventPhase=t.eventPhase,this.currentTarget=Y(t.currentTarget),this.target=Y(t.target)}}class U extends B{constructor(e,t){super(e,t);const{detail:s}=t;this.detail=s}}class q extends U{constructor(e,t){super(e,t),this.altKey=t.altKey,this.button=t.button,this.buttons=t.buttons,this.clientX=t.clientX,this.clientY=t.clientY,this.ctrlKey=t.ctrlKey,this.metaKey=t.metaKey,this.movementX=t.movementX,this.movementY=t.movementY,this.offsetX=t.offsetX,this.offsetY=t.offsetY,this.pageX=t.pageX,this.pageY=t.pageY,this.relatedTarget=Y(t.relatedTarget),this.screenX=t.screenX,this.screenY=t.screenY,this.shiftKey=t.shiftKey}}let z,H;["click","dblclick"].forEach(e=>{window.addEventListener(e,e=>{const t=new q(d.MOUSEEVENT,e);console.log("click log: ",t),K.set(_,t).then(()=>{console.log("click log added")}).catch(e=>{console.log("click log err: ",e)})})}),window.addEventListener("scroll",e=>{if(z)return;const t=new B(d.EVENT,e);console.log("scroll log: ",t),K.set(_,t).then(()=>{console.log("scroll log added")}).catch(e=>{console.log("scroll log err: ",e)}),z=window.setTimeout(()=>{z=null},1e3)}),window.addEventListener("resize",e=>{if(H)return;const t=new B(d.EVENT,e);console.log("resize log: ",t),K.set(_,t).then(()=>{console.log("resize log added")}).catch(e=>{console.log("resize log err: ",e)}),H=window.setTimeout(()=>{H=null},1e3)});class M extends U{constructor(e,t){super(e,t),this.altKey=t.altKey,this.code=t.code,this.ctrlKey=t.ctrlKey,this.key=t.key,this.location=t.location,this.metaKey=t.metaKey,this.repeat=t.repeat,this.shiftKey=t.shiftKey}}["keydown"].forEach(e=>{window.addEventListener(e,e=>{const t=new M(d.KEYBOARDEVENT,e);console.log("keyboard log: ",t),K.set(_,t).then(()=>{console.log("keyboard log added")}).catch(e=>{console.log("keyboard log err: ",e)})})});class $ extends U{constructor(e,t){super(e,t),this.altKey=t.altKey,this.changedTouches=JSON.stringify(J(t.changedTouches)),this.ctrlKey=t.ctrlKey,this.metaKey=t.metaKey,this.shiftKey=t.shiftKey,this.targetTouches=JSON.stringify(J(t.targetTouches)),this.touches=JSON.stringify(J(t.touches))}}function J(e){const t=["altitudeAngle","azimuthAngle","clientX","clientY","force","identifier","pageX","pageY","radiusX","radiusY","rotationAngle","screenX","screenY","target"];return Array.prototype.map.call(e,e=>{const s={};return t.forEach(t=>{s[t]="target"===t?Y(e[t]):e[t]}),s})}let G,F;["touchstart","touchend"].forEach(e=>{window.addEventListener(e,e=>{const t=new $(d.TOUCHEVENT,e);console.log("touchLog: ",t),K.set(_,t).then(()=>{console.log("touch log added")}).catch(e=>{console.log("touch log err: ",e)})})}),window.addEventListener("touchmove",e=>{if(G)return;const t=new $(d.TOUCHEVENT,e);console.log("touchmoveLog: ",t),K.set(_,t).then(()=>{console.log("touch log added")}).catch(e=>{console.log("touch log err: ",e)}),G=window.setTimeout(()=>{G=null},1e3)});try{new EventTarget,F=!0}catch(e){F=!1}var Q=F?EventTarget:class{constructor(){this.registry={}}addEventListener(e,t){this.getRegistry(e).push(t)}removeEventListener(e,t){const s=this.getRegistry(e),n=s.indexOf(t);n>-1&&s.splice(n,1)}dispatchEvent(e){return e.target=this,Object.freeze(e),this.getRegistry(e.type).forEach(t=>t(e)),!0}getRegistry(e){return this.registry[e]||[]}};var W=F?Event:class{constructor(e){this.type=e}};class Z extends W{constructor(e,t){super(e),this.newState=t.newState,this.prevState=t.prevState,this.originalEvent=t.originalEvent}}const ee="active",te="passive",se="hidden",ne="frozen",oe="terminated",re=window.safari,ie="object"==typeof re&&re.pushNotification,ae=["focus","blur","visibilitychange","freeze","resume","pageshow","onpageshow"in self?"pagehide":"unload"],ce=e=>(e.preventDefault(),e.returnValue=!0),le=[[ee,te,se,oe],[ee,te,se,ne],[se,te,ee],[ne,se],[ne,ee],[ne,te]].map(e=>e.reduce((e,t,s)=>(e[t]=s,e),{})),he=(e,t)=>{for(let s=0,n=le.length;s<n;++s){const n=le[s],o=n[e],r=n[t];if(o>=0&&r>=0&&r>o)return Object.keys(n).slice(o,r+1)}return[]},ue=()=>document.visibilityState===se?se:document.hasFocus()?ee:te;class de extends B{constructor(e,t){super(e,t),this.newState=t.newState,this.prevState=t.prevState}}(new class extends Q{constructor(){super(),this.safariBeforeUnloadTimeout=void 0,this.handleEvents=(e=>{switch(ie&&window.clearTimeout(this.safariBeforeUnloadTimeout),e.type){case"pageshow":case"resume":this.dispatchChangesIfNeeded(e,ue());break;case"focus":this.dispatchChangesIfNeeded(e,ee);break;case"blur":this.currState===ee&&this.dispatchChangesIfNeeded(e,ue());break;case"pagehide":case"unload":this.dispatchChangesIfNeeded(e,e.persisted?ne:oe);break;case"visibilitychange":this.currState!==ne&&this.currState!==oe&&this.dispatchChangesIfNeeded(e,ue());break;case"freeze":this.dispatchChangesIfNeeded(e,ne)}});const e=ue();this.currState=e,this.unsavedChanges=[],ae.forEach(e=>window.addEventListener(e,this.handleEvents,!0)),ie&&window.addEventListener("beforeunload",e=>{this.safariBeforeUnloadTimeout=window.setTimeout(()=>{e.defaultPrevented||e.returnValue||this.dispatchChangesIfNeeded(e,se)},0)})}get State(){return this.currState}get pageWasDiscarded(){return document.wasDiscarded||!1}addUnsavedChanges(e){this.unsavedChanges.indexOf(e)>-1||(0===this.unsavedChanges.length&&window.addEventListener("beforeunload",ce),this.unsavedChanges.push(e))}removeUnsavedChanges(e){const t=this.unsavedChanges.indexOf(e);t>-1&&(this.unsavedChanges.splice(t,1),0===this.unsavedChanges.length&&window.removeEventListener("beforeunload",ce))}dispatchChangesIfNeeded(e,t){if(t!==this.currState){const s=this.currState,n=he(s,t);for(let t=0,s=n.length;t<s-1;++t){const s=n[t],o=n[t+1];this.currState=o,this.dispatchEvent(new Z("statechange",{prevState:s,newState:o,originalEvent:e}))}}}}).addEventListener("statechange",e=>{const t=new de(d.STATECHANGE,e);console.log("statechange log: ",t),K.set(_,t).then(()=>{console.log("statechange log added")}).catch(e=>{console.log("statechange log err: ",e)})});performance.getEntries()}();
