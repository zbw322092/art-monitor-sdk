!function(){"use strict";window.TRACKID=(()=>Math.random().toString(36).substr(2,9)+"_"+Date.now())();const e=XMLHttpRequest.prototype.send,t=[],s=[];let n=!1;const r=(e,t)=>{for(let s=0,n=e.length;s<n;s++)e[s](t)},o=e=>{4===e.readyState&&r(s,e)},i=()=>{n||(XMLHttpRequest.prototype.send=function(){if(r(t,this),this.addEventListener){const e=this;this.addEventListener("readystatechange",function(){o(e)},!1)}else(e=>{const t=e.onreadystatechange;t&&(e.onreadystatechange=function(){o(e),t()})})(this);e.apply(this,arguments)},n=!0)};class a{constructor(){this.timestamp=performance.now(),this.trackId=window.TRACKID}}const c=e=>{let t;switch(e.responseType){case"":case"text":t=e.response;break;case"json":t=JSON.stringify(e.response);break;default:t=Object.prototype.toString.call(e.response)}return t};class h extends a{constructor(e){super(),this.responseURL=e.responseURL,this.status=e.status,this.statusText=e.statusText,this.responseType=e.responseType,this.response=c(e),this.readyState=e.readyState,this.timeout=e.timeout}}(e=>{s.push(e)})(e=>{const t=new h(e);console.log("xhrLogger: ",t)}),i();const u=e=>{let t;return t="function"==typeof Element?e instanceof Element:!!e&&"object"==typeof e&&1===e.nodeType&&"string"==typeof e.nodeName},l=e=>e.tagName.toLowerCase().replace(/:/g,"\\:"),d=(e,t)=>{if(!t)return!1;const s=e.ownerDocument;if(null===s)return!1;const n=s.querySelectorAll(t);return 1===n.length&&n[0]===e},p=(e,t)=>{const s=(e=>{const t=e.getAttribute("id");return null!==t&&""!==t?t.match(/^\d/)?`[id="${t}"]`:"#"+t:null})(e);if(s)return s;const n=(e=>{if(!e.hasAttribute("class"))return null;try{return Array.prototype.slice.call(e.classList).filter(e=>/^[a-z_-][a-z\d_-]*$/i.test(e)).map(e=>`.${e}`).join("")}catch(t){let s=e.getAttribute("class");return(s=s.trim().replace(/\s+/g," ")).split(" ").map(e=>`.${e}`).join("")}})(e);if(n&&d(e,n))return n;const r=((e,t=["id","class","length"])=>{const{attributes:s}=e;if(null===s)return null;const n=[];return Array.prototype.forEach.call(s,e=>{t.indexOf(e.nodeName)>-1||n.push(`[${e.nodeName}="${e.nodeValue}"]`)}),n.join("")})(e,t);if(r&&d(e,r))return r;if(n&&r&&d(e,n+r))return n+r;const o=l(e);return d(e,o)?o:n&&r&&d(e,n+r+" "+o)?n+r+" "+o:null},g=(e,t={})=>{const{attributesToIgnore:s=["id","class","length"]}=t,n=(e=>{const t=[];let s=e;for(;u(s);)t.push(s),s=s.parentElement;return t})(e);let r,o="",i=-1;for(const e of n){const t=p(e,s);if(i++,t){r=e,o=t;break}}if(r===e)return o;return n.slice(0,i).forEach(e=>{o=o+" "+l(e)+(e=>{let t=0;const{parentElement:s}=e;if(s){const{children:n}=s,r=n.length;for(let s=0;s<r;s++)if(t++,n[s]===e)return`:nth-child(${t})`}return null})(e)}),o},f=e=>new Promise((t,s)=>{e.onsuccess=(()=>{t(e.result)}),e.onerror=(()=>{s(e.error)})}),y=(e,t,s)=>{let n;const r=new Promise((r,o)=>{(n=e[t].apply(e,s))&&f(n).then(r,o)});return r.request=n,r},m=(e,t,s)=>{s.forEach(s=>{Object.defineProperty(e.prototype,s,{get(){return this[t][s]},set(e){return this[t][s]=e}})})},b=(e,t,s,n)=>{n.forEach(n=>{n in s.prototype&&(e.prototype[n]=function(){return y(this[t],n,arguments)})})};function w(e,t,s,n){n.forEach(n=>{n in s.prototype&&(e.prototype[n]=function(){return this[t][n].apply(this[t],arguments)})})}function v(e,t){this._cursor=e,this._request=t}function E(e){this._index=e}function S(e){this._store=e}function N(e){this._tx=e,this.complete=new Promise((t,s)=>{e.oncomplete=(()=>{t()}),e.onerror=(()=>{s(e.error)}),e.onabort=(()=>{s(e.error)})})}function x(e,t,s){this._db=e,this.oldVersion=t,this.transaction=s?new N(s):null}function _(e){this._db=e}m(v,"_cursor",["direction","key","primaryKey","value"]),b(v,"_cursor",IDBCursor,["update","delete"]),m(E,"_index",["name","keyPath","multiEntry","unique"]),b(E,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),((e,t,s,n,r)=>{n.forEach(n=>{n in s.prototype&&(e.prototype[n]=function(){return((e,t,s,n)=>{const r=y(e,t,s);return r.then(e=>{if(e)return new n(e,r.request)})})(this[t],n,arguments,r)})})})(E,"_index",IDBIndex,["openCursor","openKeyCursor"],v),S.prototype.createIndex=function(){return new E(this._store.createIndex.apply(this._store,arguments))},S.prototype.index=function(){return new E(this._store.index.apply(this._store,arguments))},m(S,"_store",["name","keyPath","indexNames","autoIncrement"]),b(S,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),N.prototype.objectStore=function(){return new S(this._tx.objectStore.apply(this._tx,arguments))},m(N,"_tx",["objectStoreNames","mode"]),w(N,"_tx",IDBTransaction,["abort"]),x.prototype.createObjectStore=function(){return new S(this._db.createObjectStore.apply(this._db,arguments))},m(x,"_db",["name","version","objectStoreNames"]),w(x,"_db",IDBDatabase,["deleteObjectStore","close"]),m(_,"_db",["name","version","objectStoreNames"]),w(_,"_db",IDBDatabase,["close"]),_.prototype.transaction=function(){return new N(this._db.transaction.apply(this._db,arguments))},["advance","continue","continuePrimaryKey"].forEach(e=>{e in IDBCursor.prototype&&(v.prototype[e]=function(){const t=this,s=arguments;return Promise.resolve().then(()=>(t._cursor[e].apply(t._cursor,s),f(t._request).then(e=>{if(e)return new v(e,t._request)})))})}),["openCursor","openKeyCursor"].forEach(e=>{[S,E].forEach(t=>{e in t.prototype&&(t.prototype[e.replace("open","iterate")]=function(){const t=(s=arguments,Array.prototype.slice.call(s));var s;const n=t[t.length-1],r=this._store||this._index,o=r[e].apply(r,t.slice(0,-1));o.onsuccess=(()=>{n(o.result)})})})}),[E,S].forEach(e=>{e.prototype.getAll||(e.prototype.getAll=function(e,t){const s=this,n=[];return new Promise(r=>{s.iterateCursor(e,e=>{e?(n.push(e.value),void 0===t||n.length!==t?e.continue():r(n)):r(n)})})})});const j={open:(e,t,s)=>{const n=y(indexedDB,"open",[e,t]),r=n.request;return r&&(r.onupgradeneeded=(e=>{s&&s(new x(r.result,e.oldVersion,r.transaction))})),n.then(e=>new _(e))},delete:e=>y(indexedDB,"deleteDatabase",[e])};class K extends a{constructor(e,t,s,n,r,o,i,a,c){super(),this.type=e,this.target=t,this.addedNode=s,this.removedNodes=n,this.attributeName=r,this.attributeNamespace=o,this.previousSibling=i,this.nextSibling=a,this.oldValue=c}}const T=new class{constructor(e,t,s){this.get=(e=>this.dbPromise.then(t=>t.transaction(this.objName).objectStore(this.objName).get(e))),this.set=(e=>this.dbPromise.then(t=>{const s=t.transaction(this.objName,"readwrite");return s.objectStore(this.objName).put(e),s.complete})),this.delete=(e=>this.dbPromise.then(t=>{const s=t.transaction(this.objName,"readwrite");return s.objectStore(this.objName).delete(e),s.complete})),this.clear=(()=>this.dbPromise.then(e=>{const t=e.transaction(this.objName,"readwrite");return t.objectStore(this.objName).clear(),t.complete})),this.keys=(()=>this.dbPromise.then(e=>{const t=e.transaction(this.objName),s=[],n=t.objectStore(this.objName);return(n.iterateKeyCursor||n.iterateCursor).call(n,e=>{e&&(s.push(e.key),e.continue())}),t.complete.then(()=>s)})),this.dbPromise=j.open(e,1,e=>{e.createObjectStore(t,{keyPath:s,autoIncrement:!0})}),this.objName=t}}("qnn-mkt","mutations","id"),C=document.querySelector("body"),L=e=>(e=>e instanceof Node&&!(e instanceof Element))(e)?e.parentElement?g(e.parentElement)+", nodeValue: "+e.nodeValue:"":g(e),I=e=>e instanceof Node?L(e):JSON.stringify(Array.prototype.map.call(e,e=>L(e)));let k;const D={attributes:!0,attributeOldValue:!0,childList:!0,characterData:!0,characterDataOldValue:!0,subtree:!0},O=new MutationObserver(e=>{e.forEach(e=>{"attributes"===e.type&&"style"===e.attributeName&&k||(e=>{const{type:t,target:s,addedNodes:n,removedNodes:r,attributeName:o,attributeNamespace:i,nextSibling:a,previousSibling:c,oldValue:h}=e,u=I(s),l=I(n),d=I(r),p=a?I(a):null,g=c?I(c):null,f=new K(t,u,l,d,o,i,g,p,h);T.set(f).then(()=>{console.log("record added")}).catch(e=>{console.log("idb err: ",e)}),console.log(f),"attributes"===t&&"style"===o&&(k=window.setTimeout(()=>{window.clearTimeout(k),k=null},1e3))})(e)})});C&&O.observe(C,D);const A=e=>null===e?null:e instanceof Element?g(e):Object.prototype.toString.call(e);class P extends a{constructor(e){super(),this.type=e.type,this.eventPhase=e.eventPhase,this.currentTarget=A(e.currentTarget),this.target=A(e.target)}}class X extends P{constructor(e){super(e);const{detail:t}=e;this.detail=t}}class Y extends X{constructor(e){super(e),this.altKey=e.altKey,this.button=e.button,this.buttons=e.buttons,this.clientX=e.clientX,this.clientY=e.clientY,this.ctrlKey=e.ctrlKey,this.metaKey=e.metaKey,this.movementX=e.movementX,this.movementY=e.movementY,this.offsetX=e.offsetX,this.offsetY=e.offsetY,this.pageX=e.pageX,this.pageY=e.pageY,this.relatedTarget=A(e.relatedTarget),this.screenX=e.screenX,this.screenY=e.screenY,this.shiftKey=e.shiftKey}}let B,q;["click","dblclick"].forEach(e=>{window.addEventListener(e,e=>{const t=new Y(e);console.log("clickLog: ",t)})}),window.addEventListener("scroll",e=>{if(B)return;const t=new P(e);console.log("scrollLog: ",t),B=window.setTimeout(()=>{B=null},1e3)}),window.addEventListener("resize",e=>{if(q)return;const t=new P(e);console.log("resizeLog: ",t),q=window.setTimeout(()=>{q=null},1e3)});class V extends X{constructor(e){super(e),this.altKey=e.altKey,this.code=e.code,this.ctrlKey=e.ctrlKey,this.key=e.key,this.location=e.location,this.metaKey=e.metaKey,this.repeat=e.repeat,this.shiftKey=e.shiftKey}}["keydown"].forEach(e=>{window.addEventListener(e,e=>{const t=new V(e);console.log("keyboardLog: ",t)})});class R extends X{constructor(e){super(e),this.altKey=e.altKey,this.changedTouches=JSON.stringify(z(e.changedTouches)),this.ctrlKey=e.ctrlKey,this.metaKey=e.metaKey,this.shiftKey=e.shiftKey,this.targetTouches=JSON.stringify(z(e.targetTouches)),this.touches=JSON.stringify(z(e.touches))}}function z(e){const t=["altitudeAngle","azimuthAngle","clientX","clientY","force","identifier","pageX","pageY","radiusX","radiusY","rotationAngle","screenX","screenY","target"];return Array.prototype.map.call(e,e=>{const s={};return t.forEach(t=>{s[t]="target"===t?A(e[t]):e[t]}),s})}let U,$;["touchstart","touchend"].forEach(e=>{window.addEventListener(e,e=>{const t=new R(e);console.log("touchLog: ",t)})}),window.addEventListener("touchmove",e=>{if(U)return;const t=new R(e);console.log("touchmoveLog: ",t),U=window.setTimeout(()=>{U=null},1e3)});try{new EventTarget,$=!0}catch(e){$=!1}var J=$?EventTarget:class{constructor(){this.registry={}}addEventListener(e,t,s=!1){this.getRegistry(e).push(t)}removeEventListener(e,t,s=!1){const n=this.getRegistry(e),r=n.indexOf(t);r>-1&&n.splice(r,1)}dispatchEvent(e){return e.target=this,Object.freeze(e),this.getRegistry(e.type).forEach(t=>t(e)),!0}getRegistry(e){return this.registry[e]||[]}};var M=$?Event:class{constructor(e){this.type=e}};class H extends M{constructor(e,t){super(e),this.newState=t.newState,this.prevState=t.prevState,this.originalEvent=t.originalEvent}}const F="active",W="passive",G="hidden",Q="frozen",Z="terminated",ee=window.safari,te="object"==typeof ee&&ee.pushNotification,se=["focus","blur","visibilitychange","freeze","resume","pageshow","onpageshow"in self?"pagehide":"unload"],ne=e=>(e.preventDefault(),e.returnValue=!0),re=[[F,W,G,Z],[F,W,G,Q],[G,W,F],[Q,G],[Q,F],[Q,W]].map(e=>e.reduce((e,t,s)=>(e[t]=s,e),{})),oe=(e,t)=>{for(let s=0,n=re.length;s<n;++s){const n=re[s],r=n[e],o=n[t];if(r>=0&&o>=0&&o>r)return Object.keys(n).slice(r,o+1)}return[]},ie=()=>document.visibilityState===G?G:document.hasFocus()?F:W;class ae extends P{constructor(e){super(e),this.newState=e.newState,this.prevState=e.prevState}}(new class extends J{constructor(){super(),this.safariBeforeUnloadTimeout=void 0,this.handleEvents=(e=>{switch(te&&window.clearTimeout(this.safariBeforeUnloadTimeout),e.type){case"pageshow":case"resume":this.dispatchChangesIfNeeded(e,ie());break;case"focus":this.dispatchChangesIfNeeded(e,F);break;case"blur":this.currState===F&&this.dispatchChangesIfNeeded(e,ie());break;case"pagehide":case"unload":this.dispatchChangesIfNeeded(e,e.persisted?Q:Z);break;case"visibilitychange":this.currState!==Q&&this.currState!==Z&&this.dispatchChangesIfNeeded(e,ie());break;case"freeze":this.dispatchChangesIfNeeded(e,Q)}});const e=ie();this.currState=e,this.unsavedChanges=[],se.forEach(e=>window.addEventListener(e,this.handleEvents,!0)),te&&window.addEventListener("beforeunload",e=>{this.safariBeforeUnloadTimeout=window.setTimeout(()=>{e.defaultPrevented||e.returnValue||this.dispatchChangesIfNeeded(e,G)},0)})}get State(){return this.currState}get pageWasDiscarded(){return document.wasDiscarded||!1}addUnsavedChanges(e){this.unsavedChanges.indexOf(e)>-1||(0===this.unsavedChanges.length&&window.addEventListener("beforeunload",ne),this.unsavedChanges.push(e))}removeUnsavedChanges(e){const t=this.unsavedChanges.indexOf(e);t>-1&&(this.unsavedChanges.splice(t,1),0===this.unsavedChanges.length&&window.removeEventListener("beforeunload",ne))}dispatchChangesIfNeeded(e,t){if(t!==this.currState){const s=this.currState,n=oe(s,t);for(let t=0,s=n.length;t<s-1;++t){const s=n[t],r=n[t+1];this.currState=r,this.dispatchEvent(new H("statechange",{prevState:s,newState:r,originalEvent:e}))}}}}).addEventListener("statechange",e=>{const t=new ae(e);console.log("statechange logger: ",t)});performance.getEntries()}();
